---
layout:     post
title:      Djangoå­¦ä¹ ç¬”è®°*
subtitle:   ......
date:       2019-5-10
author:     å‘†è´æ–¯
header-img: img/post-bg-desk.jpg
catalog: true
tags:
    - Django
onTop: true
---
## Django ä»‹ç»

## Django å®‰è£…

## ç¬¬ä¸€ä¸ªDjangoåº”ç”¨

### æ¨¡å‹ä¸åå°

### è¯•å›¾å’Œæ¨¡ç‰ˆ

### è¡¨å•å’Œç±»è§†å›¾

### é™æ€æ–‡ä»¶

### è¯·æ±‚ä¸å“åº”

### æµ‹è¯•

## Django æ¨¡å‹

### å­—æ®µ

### å…³ç³»ç±»å‹å­—æ®µ

### æ¨¡å‹

#### å…ƒæ•°æ®

#### ç»§æ‰¿

## Django è§†å›¾

### HttpRequest

### QueryDict

### HttpResponse

### æ™®é€šè§†å›¾

### å¼‚æ­¥è§†å›¾

### ç±»è§†å›¾

## Django è·¯ç”±ç³»ç»Ÿ

## Django æ¨¡æ¿ç³»ç»Ÿ

## Django è¡¨å•

## Django æƒé™ç®¡ç†

### åˆ©ç”¨ Django åŸç”Ÿè¿›è¡Œæƒé™ç®¡ç†

### åŸºäº RBAC çš„é€šç”¨æƒé™ç®¡ç†

## Django ä¸­é—´ä»¶å¼€å‘

### ä»‹ç»

ä¸­é—´ä»¶æœ¬è´¨å°±æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰ç±»ï¼Œè´Ÿè´£å®ç°ä¸€äº›ç‰¹å®šçš„åŠŸèƒ½ã€‚ç±»ä¸­å®šä¹‰äº†å‡ ä¸ªæ–¹æ³•ï¼ŒDjangoä¼šåœ¨è¯·æ±‚çš„ç‰¹å®šæ—¶é—´å»æ‰§è¡Œè¿™äº›æ–¹æ³•ã€‚
ä¸­é—´ä»¶é™å®šåœ¨5ä¸ªæ–¹æ³•å†…å†™ä»£ç ï¼Œè¿™5ä¸ªæ–¹æ³•çš„æ‰§è¡Œé¡ºåºä¹Ÿéµå®ˆä¸€å®šè‚¡åˆ™ã€‚    

### ä¸­é—´ä»¶çš„5ä¸ªæ–¹æ³•

1. `process_request(self, request)`

    æ‰§è¡Œæ—¶é—´ï¼šæ‰§è¡Œurlé…ç½®ä¹‹å‰è°ƒç”¨ã€‚

    å‚æ•°requestæ˜¯ä¸€ä¸ªHttpRequestå¯¹è±¡ï¼Œæ–¹æ³•è¿”å›Noneæˆ–HttpResponseå¯¹è±¡ã€‚

    è¿”å›Noneåˆ™ç»§ç»­å‘ä¸‹æ‰§è¡Œï¼Œå¦åˆ™ä¸å‘ä¸‹æ‰§è¡Œç›´æ¥è¿”å›ã€‚

2. `process_view(self, view_func, view_args, view_kwargs)`

    æ‰§è¡Œæ—¶é—´ï¼šæ‰§è¡Œè§†å›¾å‡½æ•°ä¹‹å‰è°ƒç”¨ã€‚

    å‚æ•°requestæ˜¯ä¸€ä¸ªHttpRequestå¯¹è±¡ï¼Œå‚æ•°view_funcæ˜¯ä¸€ä¸ªè§†å›¾å‡½æ•°å¯¹è±¡ï¼Œ
    å‚æ•°view_argsæ˜¯è§†å›¾å‡½æ•°ä½ç½®å‚æ•°ï¼Œå‚æ•°view_kwargsæ˜¯è§†å›¾å‡½æ•°çš„å…³é”®å­—å‚æ•°ï¼Œ
    å‚æ•°view_argså’Œå‚æ•°view_kwargså‡ä¸åŒ…å«è§†å›¾å‡½æ•°çš„ç¬¬ä¸€å‚æ•°requestã€‚

    æ–¹æ³•è¿”å›Noneæˆ–HttpResponseå¯¹è±¡ï¼Œè¿”å›Noneåˆ™ç»§ç»­å‘ä¸‹æ‰§è¡Œï¼Œå¦åˆ™ä¸å‘ä¸‹æ‰§è¡Œç›´æ¥è¿”å›ã€‚

3. `process_template_response(self, resquest, response)`

    æ‰§è¡Œæ—¶é—´ï¼šè§†å›¾å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œå¦‚æœå“åº”å®ä¾‹æœ‰render()æ–¹æ³•æ‰ä¼šè¢«è°ƒç”¨ã€‚

    å‚æ•°requestæ˜¯ä¸€ä¸ªHttpRequestå¯¹è±¡ï¼Œå‚æ•°responseæ˜¯TemplateResponseå¯¹è±¡ï¼Œç”±è§†å›¾å‡½æ•°æˆ–å…¶ä»–ä¸­é—´ä»¶ä¼ æ¥ï¼Œ
    æ–¹æ³•å†…å¯ä»¥ä¿®æ”¹ä¼ å…¥çš„responseçš„response.template_nameå’Œresponse.context_dataï¼Œä¹Ÿå¯ä»¥åˆ›å»ºå…¨æ–°çš„TemplateResponseå¯¹è±¡ã€‚

    è¿”å›ä¸€ä¸ªå®ç°render()æ–¹æ³•çš„å“åº”å¯¹è±¡ã€‚

4. `process_response(self, request, response)`

    æ‰§è¡Œæ—¶é—´ï¼šåœ¨å“åº”è¿”å›ç»™æµè§ˆå™¨ä¹‹å‰è¢«è°ƒç”¨ã€‚

    å‚æ•°requestæ˜¯ä¸€ä¸ªHttpRequestå¯¹è±¡ï¼Œå‚æ•°responseæ˜¯è§†å›¾æˆ–ä¸­é—´ä»¶ä¼ è¿‡æ¥çš„HttpResponseå¯¹è±¡ï¼Œ
    å¯ä»¥ä¿®æ”¹responseï¼Œä¹Ÿå¯ä»¥åˆ›å»ºå…¨æ–°çš„HttpResponseå¯¹è±¡ã€‚

    è¿”å›HttpResponseå¯¹è±¡ã€‚

5. `process_exception(self, request, exception)`

    æ‰§è¡Œæ—¶é—´ï¼šåœ¨è§†å›¾å‡½æ•°æŠ›å‡ºå¼‚å¸¸æ—¶è¢«è°ƒç”¨ã€‚

    å‚æ•°requestæ˜¯ä¸€ä¸ªHttpRequestå¯¹è±¡ï¼Œå‚æ•°exceptionæ˜¯ç”±è§†å›¾å‡½æ•°æŠ›å‡ºçš„Exceptionå¯¹è±¡ã€‚

    è¿”å›Noneåˆ™é»˜è®¤æ–¹å¼å¤„ç†å¼‚å¸¸ï¼Œè¿”å›HttpResponseå¯¹è±¡ä¼šç»è¿‡å“åº”ä¸­é—´ä»¶å’Œæ¨¡æ¿ä¸­é—´ä»¶æ¸²æŸ“ã€‚

### ä¸­é—´ä»¶æ‰§è¡Œæµç¨‹

### ç¼–å†™ä¸­é—´ä»¶

åœ¨appä¸‹æ–°å»ºä¸€ä¸ªmiddlewares.pyæ–‡ä»¶ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```python
from django.utils.deprecation import MiddlewareMixin  # ä¸­é—´ä»¶å¿…é¡»ç»§æ‰¿è¿™ä¸ªç±»

class TestMiddleware(MiddlewareMixin):

def process_request(self, request):
    print("æµ‹è¯•ä¸­é—´ä»¶1çš„process_request()è¿è¡Œï¼Œè¯·æ±‚URLæ˜¯ï¼š", request.path_info)

def process_response(self, request, response):
    print("æµ‹è¯•ä¸­é—´ä»¶1çš„process_response()è¿›è¡Œç›¸åº”ï¼ŒçŠ¶æ€çŸ­è¯­ï¼š", response.reason_phrase)
    return response

def process_view(self, request, view_func, view_func_args, view_func_kwargs):
    print("æµ‹è¯•ä¸­é—´ä»¶1çš„process_view()è¿è¡Œ")

def process_exception(self, request, exception):
    print("æµ‹è¯•ä¸­é—´ä»¶1çš„process_exception()è¿è¡Œ")

def process_template_response(self, request, response):
    print("æµ‹è¯•ä¸­é—´ä»¶1çš„process_template_response()è¿è¡Œ")
    return response
```

### æ³¨å†Œè‡ªå®šä¹‰ä¸­é—´ä»¶

ä¸­é—´ä»¶ä¸­æœ‰åŠ å…¥settings.pyæ–‡ä»¶ä¸­çš„MIDDLEWAREåˆ—è¡¨ä¸­æ‰ä¼šæ¿€æ´»ã€‚

```python
MIDDLEWARE = [
'django.middleware.security.SecurityMiddleware',
'django.contrib.sessions.middleware.SessionMiddleware',
'django.middleware.common.CommonMiddleware',
'django.middleware.csrf.CsrfViewMiddleware',
'django.contrib.auth.middleware.AuthenticationMiddleware',
'django.contrib.messages.middleware.MessageMiddleware',
'django.middleware.clickjacking.XFrameOptionsMiddleware',
'base.middleware.TestMiddleware'
]
```

## Django ç®¡ç†åå°

## Django äº‹åŠ¡

## Django ä¿¡å·

## Django ç¼“å­˜

## Django å¼‚æ­¥ä»»åŠ¡ä¸å®šæ—¶ä»»åŠ¡

## Django æ—¥å¿—

## Django å®‰å…¨é˜²æŠ¤

## Django é…ç½®

## éƒ¨ç½²

### æµ‹è¯•ç¯å¢ƒéƒ¨ç½²

[Docker Compose æ­å»º Django ç¤ºä¾‹é¡¹ç›®ğŸ‘†](https://blog.bookhub.com.cn/2022/05/18/DockerCompose%E6%90%AD%E5%BB%BADjango%E7%A4%BA%E4%BE%8B%E9%A1%B9%E7%9B%AE/)